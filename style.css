@tailwind base;
@tailwind components;
@tailwind utilities;

/* RTL/LTR Support */
.rtl {
  direction: rtl;
}

.ltr {
  direction: ltr;
}

/* Fix for Arabic text rendering */
[dir="rtl"] {
  text-align: right;
}

[dir="ltr"] {
  text-align: left;
}

/* Ensure proper text alignment in buttons and links */
[dir="rtl"] .text-center {
  text-align: center;
}

[dir="ltr"] .text-center {
  text-align: center;
}

/* Animation للنافذة المنبثقة من الأسفل */
@keyframes slide-up {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}

/* Animation للمودال كـ pop-up (توسّع من المركز) */
@keyframes pop-in {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-pop-in {
  animation: pop-in 0.2s ease-out;
}

/* Animation للاهتزاز عند خطأ تسجيل الدخول */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
  20%, 40%, 60%, 80% { transform: translateX(5px); }
}

/* تخصيص خط إشعارات Sonner */
[data-sonner-toaster] [data-sonner-toast] {
  font-family: 'LamaSans', ui-sans-serif, system-ui, sans-serif !important;
  direction: rtl !important;
}

[data-sonner-toaster] [data-sonner-toast] [data-title] {
  font-family: 'LamaSans', ui-sans-serif, system-ui, sans-serif !important;
}

[data-sonner-toaster] [data-sonner-toast] [data-description] {
  font-family: 'LamaSans', ui-sans-serif, system-ui, sans-serif !important;
}

/* نظام أحجام الخطوط المصغر - الحد الأقصى 24px */
.text-heading-xl {
  font-size: 24px;
  line-height: 1.3;
  font-weight: 700 !important;
}

.text-heading-lg {
  font-size: 20px;
  line-height: 1.3;
  font-weight: 700 !important;
}

.text-heading-md {
  font-size: 18px;
  line-height: 1.4;
  font-weight: 700 !important;
}

.text-heading-sm {
  font-size: 16px;
  line-height: 1.4;
  font-weight: 700 !important;
}

.text-body-lg {
  font-size: 14px;
  line-height: 1.5;
  font-weight: 400 !important;
}

.text-body-md {
  font-size: 13px;
  line-height: 1.5;
  font-weight: 400 !important;
}

.text-body-sm {
  font-size: 11px;
  line-height: 1.4;
  font-weight: 400 !important;
}

.text-body-xs {
  font-size: 10px;
  line-height: 1.4;
  font-weight: 400 !important;
}

.text-body-2xs {
  font-size: 9px;
  line-height: 1.35;
  font-weight: 400 !important;
}

.text-button-lg {
  font-size: 14px;
  line-height: 1.2;
  font-weight: 600 !important;
}

.text-button-md {
  font-size: 13px;
  line-height: 1.2;
  font-weight: 600 !important;
}

.text-button-sm {
  font-size: 11px;
  line-height: 1.2;
  font-weight: 500 !important;
}

.text-caption {
  font-size: 14px;
  line-height: 1.4;
  font-weight: 400 !important;
}

/* أوزان إضافية للعناصر التي تحتاج bold */
.text-heading-xl-bold {
  font-size: 24px;
  line-height: 1.3;
  font-weight: 800 !important;
}

.text-heading-lg-bold {
  font-size: 20px;
  line-height: 1.3;
  font-weight: 800 !important;
}

.text-heading-md-bold {
  font-size: 18px;
  line-height: 1.4;
  font-weight: 800 !important;
}

.text-heading-sm-bold {
  font-size: 16px;
  line-height: 1.4;
  font-weight: 800 !important;
}

.text-body-lg-bold {
  font-size: 14px;
  line-height: 1.5;
  font-weight: 700 !important;
}

.text-body-md-bold {
  font-size: 13px;
  line-height: 1.5;
  font-weight: 700 !important;
}

.text-body-sm-bold {
  font-size: 11px;
  line-height: 1.4;
  font-weight: 700 !important;
}

/* Utility classes */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* LamaSans Font Family */
@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-Thin.woff2') format('woff2');
  font-weight: 100;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-ThinItalic.woff2') format('woff2');
  font-weight: 100;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-ExtraLight.woff2') format('woff2');
  font-weight: 200;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-ExtraLightItalic.woff2') format('woff2');
  font-weight: 200;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-Light.woff2') format('woff2');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-LightItalic.woff2') format('woff2');
  font-weight: 300;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-RegularItalic.woff2') format('woff2');
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-Medium.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-MediumItalic.woff2') format('woff2');
  font-weight: 500;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-SemiBold.woff2') format('woff2');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-SemiBoldItalic.woff2') format('woff2');
  font-weight: 600;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-Bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-BoldItalic.woff2') format('woff2');
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-ExtraBold.woff2') format('woff2');
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-ExtraBoldItalic.woff2') format('woff2');
  font-weight: 800;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-Black.woff2') format('woff2');
  font-weight: 900;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LamaSans';
  src: url('/fonts/LamaSans-BlackItalic.woff2') format('woff2');
  font-weight: 900;
  font-style: italic;
  font-display: swap;
}

:root {
  /* shadcn/ui Color System — OKLCH (L% C H) */
  --background: 100% 0 0;
  --foreground: 12.9% 0.042 264.695;
  --card: 100% 0 0;
  --card-foreground: 12.9% 0.042 264.695;
  --popover: 100% 0 0;
  --popover-foreground: 12.9% 0.042 264.695;
  --primary: 48.8% 0.243 264.376;
  --primary-hover: 42.4% 0.199 265.638;
  --primary-foreground: 97.7% 0.011 264.05;
  --secondary: 95.9% 0.014 264.05;
  --secondary-foreground: 27.8% 0.031 264.37;
  --muted: 95.9% 0.014 264.05;
  --muted-foreground: 27.9% 0.041 260.031;
  --accent: 95.9% 0.014 264.05;
  --accent-foreground: 27.8% 0.031 264.37;
  --destructive: 62.8% 0.237 25.33;
  --destructive-foreground: 97.7% 0.011 264.05;
  --border: 91.2% 0.021 264.05;
  --input: 91.2% 0.021 264.05;
  --ring: 48.8% 0.243 264.376;
  --radius: 0.5rem;
  --chart-1: 68.2% 0.165 55.93;
  --chart-2: 47.6% 0.105 194.77;
  --chart-3: 31.8% 0.048 249.57;
  --chart-4: 77.6% 0.159 95.28;
  --chart-5: 72.4% 0.181 45.52;
  /* أبيض (للاستخدام في SVG وغيرها حيث نحتاج قيمة لونية) */
  --white: 100% 0 0;
  /* success (أخضر) — أربع درجات */
  --success: 72.3% 0.219 149.579;
  --success-light: 79.2% 0.209 151.711;
  --success-lighter: 87.1% 0.15 154.449;
  --success-lightest: 92.5% 0.084 155.995;
  /* WhatsApp UI (OKLCH) — للتوافق مع هوية واتساب في القوالب */
  --whatsapp-brand: 65% 0.22 149;
  --whatsapp-chat-bg: 88% 0.02 80;
  --whatsapp-bubble: 92% 0.08 130;
  --whatsapp-accent: 65% 0.15 166;
}

@layer base {
  :root {
    --color-background: oklch(var(--background));
    --color-foreground: oklch(var(--foreground));
    --color-card: oklch(var(--card));
    --color-card-foreground: oklch(var(--card-foreground));
    --color-popover: oklch(var(--popover));
    --color-popover-foreground: oklch(var(--popover-foreground));
    --color-primary: oklch(var(--primary));
    --color-primary-foreground: oklch(var(--primary-foreground));
    --color-secondary: oklch(var(--secondary));
    --color-secondary-foreground: oklch(var(--secondary-foreground));
    --color-muted: oklch(var(--muted));
    --color-muted-foreground: oklch(var(--muted-foreground));
    --color-accent: oklch(var(--accent));
    --color-accent-foreground: oklch(var(--accent-foreground));
    --color-destructive: oklch(var(--destructive));
    --color-destructive-foreground: oklch(var(--destructive-foreground));
    --color-border: oklch(var(--border));
    --color-input: oklch(var(--input));
    --color-ring: oklch(var(--ring));

    /* Lumo — OKLCH */
    --lumo-base-color: oklch(100% 0 0);
    --lumo-tint-5pct: oklch(100% 0 0 / 0.3);
    --lumo-tint-10pct: oklch(100% 0 0 / 0.37);
    --lumo-tint-20pct: oklch(100% 0 0 / 0.44);
    --lumo-tint-30pct: oklch(100% 0 0 / 0.5);
    --lumo-tint-40pct: oklch(100% 0 0 / 0.57);
    --lumo-tint-50pct: oklch(100% 0 0 / 0.64);
    --lumo-tint-60pct: oklch(100% 0 0 / 0.7);
    --lumo-tint-70pct: oklch(100% 0 0 / 0.77);
    --lumo-tint-80pct: oklch(100% 0 0 / 0.84);
    --lumo-tint-90pct: oklch(100% 0 0 / 0.9);
    --lumo-tint: oklch(100% 0 0);

    --lumo-shade-5pct: oklch(28% 0.04 264 / 0.05);
    --lumo-shade-10pct: oklch(28% 0.04 264 / 0.1);
    --lumo-shade-20pct: oklch(28% 0.04 264 / 0.16);
    --lumo-shade-30pct: oklch(28% 0.04 264 / 0.26);
    --lumo-shade-40pct: oklch(28% 0.04 264 / 0.38);
    --lumo-shade-50pct: oklch(28% 0.04 264 / 0.52);
    --lumo-shade-60pct: oklch(28% 0.04 264 / 0.6);
    --lumo-shade-70pct: oklch(28% 0.04 264 / 0.69);
    --lumo-shade-80pct: oklch(28% 0.04 264 / 0.83);
    --lumo-shade-90pct: oklch(28% 0.04 264 / 0.94);
    --lumo-shade: oklch(22% 0.04 264);

    --lumo-contrast-5pct: var(--lumo-shade-5pct);
    --lumo-contrast-10pct: var(--lumo-shade-10pct);
    --lumo-contrast-20pct: var(--lumo-shade-20pct);
    --lumo-contrast-30pct: var(--lumo-shade-30pct);
    --lumo-contrast-40pct: var(--lumo-shade-40pct);
    --lumo-contrast-50pct: var(--lumo-shade-50pct);
    --lumo-contrast-60pct: var(--lumo-shade-60pct);
    --lumo-contrast-70pct: var(--lumo-shade-70pct);
    --lumo-contrast-80pct: var(--lumo-shade-80pct);
    --lumo-contrast-90pct: var(--lumo-shade-90pct);
    --lumo-contrast: var(--lumo-shade);

    --lumo-header-text-color: var(--lumo-contrast);
    --lumo-body-text-color: var(--lumo-contrast-90pct);
    --lumo-secondary-text-color: var(--lumo-contrast-70pct);
    --lumo-tertiary-text-color: var(--lumo-contrast-50pct);
    --lumo-disabled-text-color: var(--lumo-contrast-30pct);

    --lumo-primary-color: oklch(48.8% 0.243 264.376);
    --lumo-primary-color-50pct: oklch(48.8% 0.243 264.376 / 0.76);
    --lumo-primary-color-10pct: oklch(48.8% 0.243 264.376 / 0.13);
    --lumo-primary-text-color: oklch(44% 0.24 264.376);
    --lumo-primary-contrast-color: oklch(100% 0 0);

    --lumo-error-color: oklch(58% 0.22 25);
    --lumo-error-color-50pct: oklch(58% 0.22 25 / 0.5);
    --lumo-error-color-10pct: oklch(58% 0.22 25 / 0.1);
    --lumo-error-text-color: oklch(52% 0.2 25);
    --lumo-error-contrast-color: oklch(100% 0 0);
    --lumo-success-color: oklch(72.3% 0.219 149.579);
  }
}

.dark {
  --background: 18.2% 0.032 264.37;
  --foreground: 97.7% 0.011 264.05;
  --card: 18.2% 0.032 264.37;
  --card-foreground: 97.7% 0.011 264.05;
  --popover: 18.2% 0.032 264.37;
  --popover-foreground: 97.7% 0.011 264.05;
  --primary: 97.7% 0.011 264.05;
  --primary-foreground: 18.2% 0.032 264.37;
  --secondary: 28.4% 0.031 264.37;
  --secondary-foreground: 97.7% 0.011 264.05;
  --muted: 28.4% 0.031 264.37;
  --muted-foreground: 65.1% 0.038 264;
  --accent: 28.4% 0.031 264.37;
  --accent-foreground: 97.7% 0.011 264.05;
  --destructive: 38.2% 0.132 25.33;
  --destructive-foreground: 97.7% 0.011 264.05;
  --border: 28.4% 0.031 264.37;
  --input: 28.4% 0.031 264.37;
  --ring: 84.2% 0.021 264.05;
  --chart-1: 55.2% 0.18 264.05;
  --chart-2: 51.8% 0.12 164.78;
  --chart-3: 64.8% 0.178 75.04;
  --chart-4: 65.2% 0.218 305.75;
  --chart-5: 61.8% 0.218 355.12;
  --sidebar-background: 18% 0.02 264;
  --sidebar-foreground: 96% 0.01 264;
  --sidebar-primary: 94% 0.05 264.05;
  --sidebar-primary-foreground: 18% 0.02 264;
  --sidebar-accent: 25% 0.02 264;
  --sidebar-accent-foreground: 96% 0.01 264;
  --sidebar-border: 25% 0.02 264;
  --sidebar-ring: 62% 0.2 264.05;
}

/* CSS Theme Variables - matching send-frontend */
@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: 'LamaSans', 'Cairo', Arial, Helvetica, sans-serif;
    direction: rtl;
    font-variant-numeric: lining-nums;
  }
  
  /*
   * لا نطبّق min-height على كل الأزرار لأن ذلك يجعل الأزرار الصغيرة (أيقونة فقط
   * أو نص قصير) أطول من عرضها. استخدم class="min-h-[45px]" فقط للأزرار التي
   * تحتاج هدف لمس كبير (مثلاً في النماذج).
   */
  
  /* الحد الأدنى لارتفاع جميع القوائم المنسدلة 45px */
  select {
    min-height: 45px;
    padding-left: 24px;
  }
}

/* RTL Support */
html {
  direction: rtl;
}

/* Force English numbers */
* {
  font-variant-numeric: lining-nums;
}

.arabic-text {
  unicode-bidi: bidi-override;
  direction: rtl;
}

/* Ensure all numbers display as English */
time, .date, .number {
  font-variant-numeric: lining-nums;
  unicode-bidi: bidi-override;
  direction: ltr;
  display: inline-block;
}

main {
  background: oklch(var(--background));
  font-family: "LamaSans", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}

html {
  font-family: "LamaSans", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}

body {
  background: oklch(var(--background));
  min-height: 100vh;
  font-family: 'LamaSans', 'Cairo', Arial, Helvetica, sans-serif;
  direction: rtl;
  font-variant-numeric: lining-nums;
}

.custom-pb {
  padding-bottom: 8rem;
}

* {
  line-height: unset !important;
}

.text-neutral-500 {
  @apply font-semibold; 
}
.text-neutral-600 {
  @apply font-semibold text-sm;
}

.text-neutral-500.bold {
  @apply font-bold;
}

/* خلفيات خفيفة خلف الأيقونات والأرقام — OKLCH مع شفافية صريحة */
.bg-primary\/10 { background-color: oklch(var(--primary) / 0.1); }
.bg-primary\/15 { background-color: oklch(var(--primary) / 0.15); }
.bg-primary\/20 { background-color: oklch(var(--primary) / 0.2); }
.bg-primary\/30 { background-color: oklch(var(--primary) / 0.3); }
.bg-success\/5 { background-color: oklch(var(--success) / 0.05); }
.bg-success\/10 { background-color: oklch(var(--success) / 0.1); }
.bg-success\/20 { background-color: oklch(var(--success) / 0.2); }
.bg-success\/30 { background-color: oklch(var(--success) / 0.3); }
.bg-warning\/10 { background-color: oklch(75% 0.18 75 / 0.1); }
.bg-destructive\/10 { background-color: oklch(var(--destructive) / 0.1); }

/* WhatsApp OKLCH — للقوالب ومحاكاة واتساب */
.bg-whatsapp-brand { background-color: oklch(var(--whatsapp-brand)); }
.text-whatsapp-accent { color: oklch(var(--whatsapp-accent)); }
.bg-whatsapp-accent\/20 { background-color: oklch(var(--whatsapp-accent) / 0.2); }
